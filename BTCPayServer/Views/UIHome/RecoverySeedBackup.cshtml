@model RecoverySeedBackupViewModel
@{
    Layout = "_LayoutSimple";
    ViewData["Title"] = "Your recovery phrase";
    var WarningMessage = @"Your recovery phrase is the only way to access your wallet if your server crash.
                    If you lose your recovery phrase, you will no longer be able to access your wallet.
                    Never share your recovery phrase with anyone. Anyone who has it can access your funds.";
}

@section PageHeadContent {
    <style>
        @@media (min-width: 476px) { ol#RecoveryPhrase {max-height:23em;} }
        @@media (min-width: 768px) { ol#RecoveryPhrase {max-height:19em;} }
        @@media (min-width: 1200px) { ol#RecoveryPhrase {max-height:15em;} }
        form#RecoveryConfirmation button { position: absolute; bottom:0; left:50%; width:200px; margin-left:-100px; }
        form#RecoveryConfirmation button:not([disabled]) { display: none; }
        form#RecoveryConfirmation input:checked ~ button[disabled] { display: none; }
        form#RecoveryConfirmation input:checked + button:not([disabled]) { display: inline-block; }
    </style>
}

@section PageFootContent {
    <partial name="_ValidationScriptsPartial" />
}

<div class="row justify-content-md-center">
    <div class="col-lg-10 text-center">
        <partial name="_StatusMessage" />

        <div class="d-flex flex-column align-items-center justify-content-center">
            <span class="fa fa-info-circle align-self-center p-3" style="font-size:4em;"></span>

            <h1 class="text-center text-primary mb-5">This is your recovery phrase</h1>
        </div>
        <div class="lead text-center">
            <p>
                <span class="d-sm-block">Your recovery phrase is a group of 12 random words</span>
                <span class="d-sm-block"><strong>Write them down on a piece of paper in the exact order.</strong></span>
            </p>
        </div>
        <ol id="RecoveryPhrase" data-mnemonic="@Model.Mnemonic" class="my-5 d-flex flex-row flex-wrap justify-content-end align-items-center text-start p-0">
            @foreach (var word in Model.Words)
            {
                <li class="ms-4 px-3 py-2 text-secondary" style="width:35%">
                    <span class="text-dark h5">@word</span>
                </li>
            }
        </ol>
        <div class="lead text-center" style="white-space: pre-line; max-width:36em;margin-left:auto;margin-right:auto;">
            @if (Model.IsStored)
            {
                <p>
                    @WarningMessage
                </p>
                <p>
                    <strong>The recovery phrase will also be stored on the server as a hot wallet.</strong>
                </p>
            }
            else
            {
                <p>
                    @WarningMessage
                </p>
                <p>
                    <strong>The recovery phrase will permanently be erased from the server.</strong>
                </p>
            }
            @if (!string.IsNullOrEmpty(Model.Passphrase))
            {
                <p class="mt-3 mb-0">Please make sure to also write down your passphrase.</p>
            }
        </div>
        @if (Model.RequireConfirm)
        {
            @* <form id="RecoveryConfirmation" asp-controller="UIStores" asp-route-storeId="@Model.StoreId" asp-action="ValidateWallet" asp-route-cryptoCode="@Model.CryptoCode" method="post" class="position-relative d-flex align-items-start justify-content-center" style="margin-top:4rem;padding-bottom: 80px" rel="noreferrer noopener"> *@
            
            <form id="RecoveryConfirmation" action="@Url.EnsureLocal(Model.ReturnUrl)" class="position-relative d-flex align-items-start justify-content-center" style="margin-top:4rem;padding-bottom: 80px" rel="noreferrer noopener">
                <label class="form-check-label lead order-2" for="confirm">I have written down my recovery phrase and stored it in a secure location</label>
                <input type="checkbox" class="me-3 order-1 form-check-input" id="confirm" style="margin-top:.35rem;flex-shrink:0">
                <button type="submit" class="btn btn-primary btn-lg px-5 order-3" id="submit">Done</button>
                <button type="submit" class="btn btn-primary btn-lg px-5 order-3" disabled>Done</button>
            </form>
        }
        else
        {
            <a href="@Url.EnsureLocal(Model.ReturnUrl)" class="btn btn-primary btn-lg mt-3 px-5 order-3" id="proceed" rel="noreferrer noopener">Done</a>
        }
    </div>
</div>
